<div
  *ngIf="isModalOpen"
  class="fixed inset-0 bg-gray-900 bg-opacity-50 flex justify-center items-center z-50"
>
  <div class="bg-white rounded-lg overflow-hidden shadow-lg w-11/12 md:w-1/3">
    <!-- Header del modal -->
    <div class="flex justify-between items-center p-4 border-b border-gray-200">
      <h2 class="text-lg font-bold">
        <!-- Título dinámico según la vista -->
        {{
          modalView === "transactions"
            ? "Realizar transferencia"
            : modalView === "deposit"
            ? "Realizar depósito"
            : "Realizar retiro"
        }}
      </h2>
      <button (click)="closeModal()" class="text-black text-2xl leading-none">
        &times;
      </button>
    </div>

    <!-- Contenido del modal dinámico -->
    <div class="p-4">
      <!-- Formulario de transacciones -->
      <ng-container *ngIf="modalView === 'transactions'">
        <section class="">
          <div class="p-6">
            <form
              action="#"
              method="POST"
              [formGroup]="transferForm"
              (ngSubmit)="onSubmit()"
            >
              <!-- Campo de cédula o cuenta -->
              <div class="mb-6">
                <label
                  for="cedula-cuenta"
                  class="block text-sm font-medium text-gray-700"
                  >Ingrese el número de cédula o de cuenta:</label
                >
                <input
                  formControlName="identifierDestino"
                  type="text"
                  id="cedula-cuenta"
                  name="cedula-cuenta"
                  class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
                  placeholder="Ej. 1234567890"
                  required
                />
              </div>

              <!-- Campo de monto -->
              <div class="mb-6">
                <label
                  for="monto"
                  class="block text-sm font-medium text-gray-700"
                  >Ingrese el monto que desea enviar:</label
                >
                <input
                  formControlName="amount"
                  type="number"
                  id="monto"
                  name="monto"
                  class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
                  placeholder="Ej. 1000"
                  required
                />
              </div>

              <!-- Botón de envío -->
              <div>
                <button
                  type="submit"
                  class="w-full inline-block px-6 py-3 mb-4 font-bold text-center text-white uppercase align-middle rounded-xl cursor-pointer bg-blue-600 shadow-2xl text-xs hover:scale-105 transition-transform ease-in-out duration-300 hover:bg-blue-700"
                >
                  Enviar
                </button>
              </div>
            </form>
          </div>
        </section>
      </ng-container>

      <!-- Formulario de depósito -->
      <ng-container *ngIf="modalView === 'deposit'">
        <section>
          <div class="p-6">
            <form
              action="#"
              method="POST"
              [formGroup]="depositForm"
              (ngSubmit)="onSubmitdeposit()"
            >
              <!-- Campo de monto -->
              <div class="mb-6">
                <label
                  for="monto"
                  class="block text-sm font-medium text-gray-700"
                  >Ingrese el monto que desea depositar:</label
                >
                <input
                  formControlName="amount"
                  type="number"
                  id="monto"
                  name="monto"
                  class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
                  placeholder="Ej. 1000"
                  required
                />
              </div>

              <!-- Botón de envío -->
              <div>
                <button
                  type="submit"
                  class="w-full inline-block px-6 py-3 mb-4 font-bold text-center text-white uppercase align-middlerounded-lg rounded-xl cursor-pointer bg-green-600 shadow-2xl text-xs hover:scale-105 transition-transform ease-in-out duration-300 hover:bg-green-700"
                >
                  Enviar
                </button>
              </div>
            </form>
          </div>
        </section>
      </ng-container>

      <!-- Formulario de retiro -->
      <ng-container *ngIf="modalView === 'withdrawal'">
        <section>
          <div class="p-6">
            <form
              action="#"
              method="POST"
              [formGroup]="withdrawalForm"
              (ngSubmit)="onSubmitRetiro()"
            >
              <!-- Campo de monto -->
              <div class="mb-6">
                <label
                  for="monto"
                  class="block text-sm font-medium text-gray-700"
                  >Ingrese el monto que desea retirar:</label
                >
                <input
                  formControlName="amount"
                  type="number"
                  id="monto"
                  name="monto"
                  class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
                  placeholder="Ej. 1000"
                  required
                />
              </div>

              <!-- Botón de envío -->
              <div>
                <button
                  type="submit"
                  class="w-full inline-block px-6 py-3 mb-4 font-bold text-center text-white uppercase align-middle rounded-xl cursor-pointer bg-red-600 shadow-2xl text-xs hover:scale-105 transition-transform ease-in-out duration-300 hover:bg-red-700"
                >
                  Enviar
                </button>
              </div>
            </form>
          </div>
        </section>
      </ng-container>
    </div>

    <!-- Footer del modal -->
    <div class="flex justify-end p-4 border-t border-gray-200">
      <button
        (click)="closeModal()"
        class="px-4 py-2 bg-gray-500 text-white rounded-lg mr-2 hover:bg-red-600"
      >
        Cerrar
      </button>
    </div>
  </div>
</div>
